# Surface Mesh Conditioner
## Author [Andrei V Smirnov](andrei.v.smirnov@gmail.com)

Creates a surface mesh using level-set method.

## Files

- CMakeLists.txt: compilation list for [Cmake](https://cmake.org/)
- surfer.f90: main driver routines in Fortran-90
- surfer.f: implementation of particle deposition, normal projection,
            and forcing routines in Fortran-77
- frontmesh.cc: surface triangulation by propagating front method
- frontmesh.h: header file for frontmesh.cc
- VTK.cc: output in VTK format for visualization with [Paraview](https://www.paraview.org/)
- io.c: output routines for post-processing with [Qhull](http://www.qhull.org/)
- io.h: header file for io.c

## Compiling and Executing

Use [Cmake](https://cmake.org/) to compile the executables.

Three executables are compiled:

- **surfer**: particle deposition executable. It is self contained and does not require any external libraries.
  The executable reads fort.8 and fort.9 files with coordinates and scalar level-set function data and
  writes surf.node, snorm.node files for further processing with frontmesh.

- **frontmesh**: reads surf.node and snorm.node files and outputs triangulation data.

Should be executed as:

    frontmesh surf.node snorm.node surf.face

where surf.node and snorm.node are the files generated by surfer executable and surf.face is the output file
containing the triangulation connectivity information in Tetgen face format.

- **tetgen2stl**: reads node and face data in Tetgen format and outputs surface triangulation in STL format.

Should be executed as:

    tetgen2stl surf.node surf.face surf.stl

where the first two files are the input files and the last one is the output in STL format.
In particular, surf.node is the output of the surfer executable and surf.face is the output of frontmesh.
This executable is compiled with [VTK libraries](https://www.vtk.org/).

## Sources
 [P.O.Persson](http://persson.berkeley.edu/distmesh/)
 [J.Burkardt](http://people.sc.fsu.edu/~jburkardt/f_src/table_tet_mesh/table_tet_mesh.html)
 [H.Zhang, A.Smirnov](http://galacticbubble.com/mulphys/mesh/mc/)
 [STL Parser](https://github.com/dillonhuff/stl_parser)

